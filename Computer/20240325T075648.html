<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title> Typst 入门 - Ward of Bardust </title>
<meta name="author" content="Bardust">
<link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/static/Spectral/style.css">
<link rel="stylesheet" href="/static/LXGWWenKai/style.css">
<link rel="stylesheet" href="/static/style.css">
<link rel="stylesheet" href="/static/FantasqueSansMono/style.css"/>
<link rel="stylesheet" href="/static/prism/style.css">
</head>
<body>
<div id="preamble" class="status">
<div class="header">
<div class="title">
<a href="/">Ward of Bardust</a>
</div>
<div class="navigation">
<a class="item" href="/archive.html">Archives</a>
<a class="item" href="/taxonomy.html">Taxonomy</a>
<a class="item" href="/about.html">About</a></div>
</div>
</div>
<div id="content" class="content">
<div class="post">
<h1 class="title">Typst 入门</h1>
<div class="metadata">
<div class="date"><span>2024-03-25</span></div>
<div class="tags">
<a class="tag" href="/tag/latex.html">#latex</a> <a class="tag" href="/tag/post.html">#post</a> <a class="tag" href="/tag/typst.html">#typst</a> <a class="tag" href="/tag/writing.html">#writing</a></div>
<div class="category">
<a href="/category/Computer.html">$Computer</a>
</div>
</div>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#安装和命令行">安装和命令行</a>
<ul>
<li><a href="#文件后缀">文件后缀</a></li>
<li><a href="#编译">编译</a></li>
<li><a href="#增量更新">增量更新</a></li>
<li><a href="#&#x2013;root">&#x2013;root</a></li>
</ul>
</li>
<li><a href="#标记语法">标记语法</a>
<ul>
<li><a href="#块元素">块元素</a></li>
<li><a href="#标记">标记</a>
<ul>
<li><a href="#断行">断行</a></li>
<li><a href="#强调">强调</a></li>
<li><a href="#注释">注释</a></li>
<li><a href="#标注 label">标注 label</a></li>
<li><a href="#链接">链接</a></li>
<li><a href="#引用">引用</a></li>
<li><a href="#列表">列表</a></li>
<li><a href="#术语">术语</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#typst 语法">typst 语法</a></li>
<li><a href="#数学公式">数学公式</a></li>
<li><a href="#样式">样式</a></li>
<li><a href="#模块">模块</a></li>
<li><a href="#文字块">文字块</a></li>
</ul>
</div>
</div>


<div id="outline-container-前言" class="outline-2">
<h2 id="前言"><a href="#前言">前言</a></h2>
<div class="outline-text-2" id="text-orgaa2d469">
<p>
<a target="_blank" href="https://github.com/typst/typst">Typst</a> 是一个基于标记语言的排版系统，它的追求是和 Latex 一样强大，但是设计上更加易用。与 Latex 相比，优点是标记语言的语法更简单，不会出现一大堆的 <code>\function{}</code>, 整体界面看上去十分简洁；其次是配置起来也比 Latex 要方便不少，把整个文档分为各种模块，很便捷地可以对各个模块进行调整；最后是编译速度快，同时支持增量更新，在 Emacs 上使用十分良好。当然，缺点目前我自己道听途说，当然是因为这是新项目，生态没有那么完善，各种插件、第三方库、模板肯定没有 Latex 那么齐全。
</p>

<p>
官方给出的文档其实已经十分详细：<a target="_blank" href="https://typst.app/docs">Typst Documentation</a>. 在摸爬打滚了一下午之后，发现还是需要先学习它的语法，熟知各种模型，不然最后可能东拼西凑得到一些零散的知识概念，以后需要了又要重新来一遍。
</p>
</div>
</div>

<div id="outline-container-安装和命令行" class="outline-2">
<h2 id="安装和命令行"><a href="#安装和命令行">安装和命令行</a></h2>
<div class="outline-text-2" id="text-org6a4086c">
<div class="org-src-container">
<pre>
<code class="language-bash">sudo pacman -S typst</code>
</pre>

</div>

<p>
安装之后就可以使用 <code>typst</code> 命令了。显示帮助使用 <code>typst help</code>.
</p>
</div>

<div id="outline-container-文件后缀" class="outline-3">
<h3 id="文件后缀"><a href="#文件后缀">文件后缀</a></h3>
<div class="outline-text-3" id="text-orgcedb523">
<p>
文件后缀是 <code>.typ</code>, 即 typst 的前三个字母。
</p>
</div>
</div>

<div id="outline-container-编译" class="outline-3">
<h3 id="编译"><a href="#编译">编译</a></h3>
<div class="outline-text-3" id="text-orgeac864e">
<div class="org-src-container">
<pre>
<code class="language-bsah">typst compile input.typ [output.pdf]</code>
</pre>

</div>

<p>
若没有指定输出文件，则会在 <code>input.typ</code> 的目录下生成同名的输出文件。输出格式可以是： pdf, png, svg.
</p>
</div>
</div>

<div id="outline-container-增量更新" class="outline-3">
<h3 id="增量更新"><a href="#增量更新">增量更新</a></h3>
<div class="outline-text-3" id="text-org6ceb747">
<div class="org-src-container">
<pre>
<code class="language-bash">typst watch input.typ --open</code>
</pre>

</div>

<p>
监听文件，若文件发生变化则尝试增量编译。在 Emacs 中编辑后保存，用浏览器或者 <code>pdf-tool</code> 打开的 pdf 会自动更新，几乎算是“所见即所得”了。
</p>

<p>
<code>--open</code> 在执行命令之后用默认的应用打开输出的 pdf.
</p>
</div>
</div>


<div id="outline-container-&#x2013;root" class="outline-3">
<h3 id="&#x2013;root"><a href="#&#x2013;root">&#x2013;root</a></h3>
<div class="outline-text-3" id="text-org3528989">
<p>
用于指定工作目录，之后调用包的时候，根目录就是这个指定的 root 目录。
</p>
</div>
</div>
</div>

<div id="outline-container-标记语法" class="outline-2">
<h2 id="标记语法"><a href="#标记语法">标记语法</a></h2>
<div class="outline-text-2" id="text-orge081a89">
</div>
<div id="outline-container-块元素" class="outline-3">
<h3 id="块元素"><a href="#块元素">块元素</a></h3>
<div class="outline-text-3" id="text-org4dcdd36">
<ul class="org-ul">
<li>文本块：标记块元素被一对方括号 <code>[...]</code> 包裹，在其内部可以使用<a href="#标记">标记语言</a>。默认情况下，整个页面就是在一个标记块下。</li>
<li>代码块： <code>#function()</code> or <code>#{...}</code>, 用于执行代码、调用函数。在块元素内部，需要在前面加 <code>#</code> 来表示执行函数，不然会被解析为普通文本</li>
<li>数学块： <code>$...$</code> 表示行内数学公示，而在首尾都空出一个空格 <code>$ ... $</code> 表示数学公式块，可以在内部换行。数学的语法和 Latex 大不相同。</li>
</ul>

<p>
块元素可以互相嵌套，比如说标记块内加一个代码块，代码块中加一个数学块，然后数学块中又可以嵌套一个标记快，因此配置可以做得十分灵活。
</p>
</div>
</div>

<div id="outline-container-标记" class="outline-3">
<h3 id="标记"><a href="#标记">标记</a></h3>
<div class="outline-text-3" id="text-org7d2535d">
<p>
本质上调用的还是函数，只是因为常用，所以做了一些缩写。
</p>

<p>
打个比方，粗体对应的函数是 <code>strong(delta: int = 300, content)</code>, 传入的参数有两个，第一个是可选参数，表示粗体的 weight 粗度（？)，第二个是要加粗的文本。
</p>

<p>
如果每次加粗都要 <code>strong(text)</code> 是有点太麻烦了。所以有个缩写 <code>*text*</code>, 它本质上也是一个函数，把包裹的文本作为 content 参数传入。
</p>

<p>
这些标记缩写，都是只在标记块中有效。
</p>
</div>


<div id="outline-container-断行" class="outline-4">
<h4 id="断行"><a href="#断行">断行</a></h4>
<div class="outline-text-4" id="text-org936c165">
<ul class="org-ul">
<li>段落：两段之间用一个空行分隔</li>
<li>断行：用一个反斜杠 <code>\</code> 表示断行</li>
</ul>
</div>
</div>

<div id="outline-container-强调" class="outline-4">
<h4 id="强调"><a href="#强调">强调</a></h4>
<div class="outline-text-4" id="text-orgf524dcf">
<ul class="org-ul">
<li><code>*strong*</code> 加粗文本</li>
<li><code>_emphasis_</code> 下划线</li>
</ul>
</div>
</div>

<div id="outline-container-注释" class="outline-4">
<h4 id="注释"><a href="#注释">注释</a></h4>
<div class="outline-text-4" id="text-org0ca7acb">
<ul class="org-ul">
<li><code>/* block */</code> 块注释</li>
<li><code>//</code> 行注释</li>
</ul>
</div>
</div>

<div id="outline-container-标注 label" class="outline-4">
<h4 id="标注 label"><a href="#标注 label">标注 label</a></h4>
<div class="outline-text-4" id="text-org62a1cb1">
<p>
在元素的后面使用 <code>&lt;name&gt;</code> 来创建一个名为 name 的 label, 可以用于链接和跳转，也可以对指定名称的 label 修改样式。
</p>
</div>
</div>

<div id="outline-container-链接" class="outline-4">
<h4 id="链接"><a href="#链接">链接</a></h4>
<div class="outline-text-4" id="text-org558e507">
<p>
可以直接是一个 url, 它会被识别为连接，或者用函数 <code>link(target, content)</code> 或 <code>#link(target)[content]</code>, 其中 target 是链接的目的地，可以是 label, 可以是 location, 也可以是一个字典包含页面的页码（从 1 开始）和 x,y 偏移（相对于页面上边和左边）。
</p>
</div>
</div>

<div id="outline-container-引用" class="outline-4">
<h4 id="引用"><a href="#引用">引用</a></h4>
</div>


<div id="outline-container-列表" class="outline-4">
<h4 id="列表"><a href="#列表">列表</a></h4>
<div class="outline-text-4" id="text-orgf184808">
<ul class="org-ul">
<li><code>- item</code> 表示无序列表</li>
<li><code>+ item</code> 表示有序列表，它会自动编号</li>
</ul>
</div>
</div>


<div id="outline-container-术语" class="outline-4">
<h4 id="术语"><a href="#术语">术语</a></h4>
<div class="outline-text-4" id="text-orgcffbdd2">
<p>
语法： <code>/ Term: description</code>, 它类似于数学材料中的“定义”、“定理”等字眼。首先必须以斜杠开头，一个空格，加上术语的名字，一个冒号，后面是叙述。渲染出来的效果是： Term 会加粗，然后一段间距，然后是描述。如果描述是多行的，那么第二行开始都会有一个缩进。
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-typst 语法" class="outline-2">
<h2 id="typst 语法"><a href="#typst 语法">typst 语法</a></h2>
</div>

<div id="outline-container-数学公式" class="outline-2">
<h2 id="数学公式"><a href="#数学公式">数学公式</a></h2>
</div>
<div id="outline-container-样式" class="outline-2">
<h2 id="样式"><a href="#样式">样式</a></h2>
</div>
<div id="outline-container-模块" class="outline-2">
<h2 id="模块"><a href="#模块">模块</a></h2>
</div>
<div id="outline-container-文字块" class="outline-2">
<h2 id="文字块"><a href="#文字块">文字块</a></h2>
</div>
</div>
</div>
<div id="postamble" class="status">
<center>
Powered by <a href="https://orgmode.org">Org Mode</a>.
</center>
</div>
<script src="/static/script.js"></script>
<script src="/static/prism/script.js"></script>
</body>
</html>
